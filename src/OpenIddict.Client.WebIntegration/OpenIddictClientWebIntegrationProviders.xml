<?xml version="1.0" encoding="utf-8" ?>
<Providers>

  <Provider Name="Fitbit">
    <Environment Issuer="https://www.fitbit.com/">
      <Configuration AuthorizationEndpoint="https://www.fitbit.com/oauth2/authorize"
                     TokenEndpoint="https://api.fitbit.com/oauth2/token"
                     UserinfoEndpoint="https://api.fitbit.com/1/user/-/profile.json">
        <CodeChallengeMethod Value="S256" />

        <TokenEndpointAuthMethod Value="client_secret_basic" />
      </Configuration>
    </Environment>
  </Provider>

  <Provider Name="GitHub">
    <Environment Issuer="https://github.com/">
      <Configuration AuthorizationEndpoint="https://github.com/login/oauth/authorize"
                     TokenEndpoint="https://github.com/login/oauth/access_token"
                     UserinfoEndpoint="https://api.github.com/user" />
    </Environment>
  </Provider>

  <Provider Name="Google">
    <Environment Issuer="https://accounts.google.com/" />
  </Provider>

  <Provider Name="Reddit">
    <Environment Issuer="https://www.reddit.com/">
      <Configuration AuthorizationEndpoint="https://www.reddit.com/api/v1/authorize"
                     TokenEndpoint="https://www.reddit.com/api/v1/access_token"
                     UserinfoEndpoint="https://oauth.reddit.com/api/v1/me">
        <TokenEndpointAuthMethod Value="client_secret_basic" />
      </Configuration>
    </Environment>

    <Setting Type="string" Name="ProductName"
             Description="Gets or sets the product name, used to build the user agent header." />

    <Setting Type="string" Name="ProductVersion"
             Description="Gets or sets the product version, used to build the user agent header." />
  </Provider>

  <Provider Name="Salesforce">
    <!--
      Note: no static userinfo endpoint is specified here because Salesforce uses a user-specific endpoint
      whose address is dynamically returned as part of the token response. To deal with that, a dedicated
      event handler is responsible of resolving its address and setting it per authentication demand.
    -->

    <Environment Name="Production" Issuer="https://login.salesforce.com/">
      <Configuration AuthorizationEndpoint="https://login.salesforce.com/services/oauth2/authorize"
                     TokenEndpoint="https://login.salesforce.com/services/oauth2/token" />
    </Environment>

    <Environment Name="Development" Issuer="https://test.salesforce.com/">
      <Configuration AuthorizationEndpoint="https://test.salesforce.com/services/oauth2/authorize"
                     TokenEndpoint="https://test.salesforce.com/services/oauth2/token" />
    </Environment>
  </Provider>

  <Provider Name="Zendesk">
    <!--
      Note: Zendesk is a multitenant provider that relies on subdomains to identify instances.
      As such, the following URLs all include a {tenant} placeholder that will be dynamically
      replaced by OpenIddict at runtime by the tenant configured in the Zendesk settings.
    -->

    <Environment Issuer="https://{tenant}.zendesk.com/">
      <Configuration AuthorizationEndpoint="https://{tenant}.zendesk.com/oauth/authorizations/new"
                     TokenEndpoint="https://{tenant}.zendesk.com/oauth/tokens"
                     UserinfoEndpoint="https://{tenant}.zendesk.com/api/v2/users/me" />
    </Environment>

    <Setting Type="string" Name="Tenant"
             Description="Gets or sets the tenant used to identify the Zendesk instance." />
  </Provider>

</Providers>